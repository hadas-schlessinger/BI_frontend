{"ast":null,"code":"var _jsxFileName = \"/Users/hadasch/PycharmProjects/BI/frontend/src/components/Popularity.js\";\nimport React, { useState, useEffect } from 'react';\nimport beckgroungTransperant from '../beckgroungTransperant.png';\nimport decoder from '../services/ImageDecoder';\nimport { popularity } from '../services/Popularity';\nexport default function PopularityPanel() {\n  const [success, setSuccess] = useState(false);\n  const [img, setImg] = useState(\"no image\");\n  useEffect(() => {\n    const image = getData(); // console.log(image)\n    // setImg(image)\n    // console.log(img)\n    // const interval = setInterval(() => {\n    //     if (img==\"no image\"){\n    //         const image = getData()\n    //         console.log(image)\n    //         setImg(image[0])\n    //     }\n    //   }, 60)  \n    // return () => {\n    //     setSuccess(true)\n    //     clearInterval(interval)\n    // }\n  }, []);\n\n  async function getData() {\n    var strr = [];\n    popularity().then(response => {\n      // strr.push(response.data);\n      const image = response.data;\n      console.log(image);\n      setImg({\n        image\n      });\n      console.log(img);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    return strr;\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      backgroundImage: `url(${beckgroungTransperant})`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Popularity Data!\")), React.createElement(\"h2\", {\n    style: {\n      fontSize: 20\n    },\n    className: \"pt-running-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"here you can view data the popular routes\"), success && React.createElement(\"img\", {\n    src: {\n      img\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/hadasch/PycharmProjects/BI/frontend/src/components/Popularity.js"],"names":["React","useState","useEffect","beckgroungTransperant","decoder","popularity","PopularityPanel","success","setSuccess","img","setImg","image","getData","strr","then","response","data","console","log","catch","error","backgroundImage","fontSize"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAOC,qBAAP,MAAkC,8BAAlC;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,SAAQC,UAAR,QAAyB,wBAAzB;AAGA,eAAe,SAASC,eAAT,GAA2B;AACtC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACQ,GAAD,EAAMC,MAAN,IAAgBT,QAAQ,CAAC,UAAD,CAA9B;AAIAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMS,KAAK,GAAGC,OAAO,EAArB,CADY,CAEZ;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACD,GApBM,EAoBJ,EApBI,CAAT;;AAuBA,iBAAeA,OAAf,GAAyB;AACzB,QAAIC,IAAI,GAAG,EAAX;AACCR,IAAAA,UAAU,GAAGS,IAAb,CAAmBC,QAAD,IAAY;AACxB;AACC,YAAMJ,KAAK,GAAGI,QAAQ,CAACC,IAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACAD,MAAAA,MAAM,CAAC;AAACC,QAAAA;AAAD,OAAD,CAAN;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AAEN,KAPD,EAQCU,KARD,CAQO,UAASC,KAAT,EAAe;AACfH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KAVJ;AAYG,WAAOP,IAAP;AAEH;;AAID,SACI;AAAK,IAAA,KAAK,EAAE;AAACQ,MAAAA,eAAe,EAAG,OAAMlB,qBAAsB;AAA/C,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAJ,CADJ,EAEI;AAAI,IAAA,KAAK,EAAE;AAACmB,MAAAA,QAAQ,EAAE;AAAX,KAAX;AAA2B,IAAA,SAAS,EAAC,iBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAFJ,EAKKf,OAAO,IAAI;AAAK,IAAA,GAAG,EAAE;AAACE,MAAAA;AAAD,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALhB,CADJ;AAUE","sourcesContent":["import React, { useState, useEffect} from 'react'\nimport beckgroungTransperant from '../beckgroungTransperant.png'\nimport decoder from '../services/ImageDecoder'\nimport {popularity} from '../services/Popularity'\n\n\nexport default function PopularityPanel() {\n    const [success, setSuccess] = useState(false)\n    const [img, setImg] = useState(\"no image\")\n\n\n\n    useEffect(() => {\n        const image = getData()\n        // console.log(image)\n        // setImg(image)\n        // console.log(img)\n\n        // const interval = setInterval(() => {\n        //     if (img==\"no image\"){\n        //         const image = getData()\n        //         console.log(image)\n        //         setImg(image[0])\n\n\n        //     }\n           \n        //   }, 60)  \n        // return () => {\n        //     setSuccess(true)\n        //     clearInterval(interval)\n        // }\n      }, [])     \n   \n  \n    async function getData() {\n    var strr = [];\n     popularity().then((response)=>{\n           // strr.push(response.data);\n            const image = response.data\n            console.log(image)\n            setImg({image})\n            console.log(img)\n\n     })\n     .catch(function(error){\n            console.log(error);\n        });\n       \n        return strr;\n    \n    }\n    \n    \n\n    return (\n        <div style={{backgroundImage: `url(${beckgroungTransperant})`}}>\n            <h1><span>Popularity Data!</span></h1>\n            <h2 style={{fontSize: 20}} className=\"pt-running-text\">\n            here you can view data the popular routes\n            </h2> \n            {success && <img src={{img}}></img>}\n           {/* <p style={{color: '#0B7478', fontSize: 22}}>This server was published on XXX - see the paper <a href=\"\">here</a></p> */}\n        </div>\n  \n    )}\n"]},"metadata":{},"sourceType":"module"}